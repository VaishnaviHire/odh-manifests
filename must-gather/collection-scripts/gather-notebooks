#!/bin/bash

notebooks=$(oc get notebook --all-namespaces -o=jsonpath='{range .items[*]}{.metadata.namespace}{"\n"}{end}')

# Get logs from all notebook namespaces
for i in $notebooks;
do
# Get pod logs for all the pods in Notebook namespaces
mkdir must-gather/notebooks || echo "Error creating odh-operator directory"
oc adm inspect namespace/"$i" --dest-dir=must-gather/notebooks || echo "Error getting logs from $i"

done

